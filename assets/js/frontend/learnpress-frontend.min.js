if(!Object.prototype.watchChange){var isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)};Object.defineProperty(Object.prototype,"watchChange",{enumerable:!1,configurable:!0,writable:!1,value:function(e,t){var s=this;function o(t,o){var i=s[t],n=i;delete s[t]&&Object.defineProperty(s,t,{get:function(){return n},set:function(e){return n=o.call(s,t,i,e)},enumerable:!0,configurable:!0})}if(isFunction(e))for(var i in this)new o(i,e);else new o(e,t)}})}Object.prototype.unwatchChange||Object.defineProperty(Object.prototype,"unwatchChange",{enumerable:!1,configurable:!0,writable:!1,value:function(e){var t=this[e];delete this[e],this[e]=t}}),function(r){r.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(e,t,o){null==t&&(t="Alert"),r.alerts._show(t,e,null,"alert",function(e){o&&o(e)})},confirm:function(e,t,o){null==t&&(t="Confirm"),r.alerts._show(t,e,null,"confirm",function(e){o&&o(e)})},prompt:function(e,t,o,i){null==o&&(o="Prompt"),r.alerts._show(o,e,t,"prompt",function(e){i&&i(e)})},_show:function(e,t,o,i,n){r.alerts._hide(),r.alerts._overlay("show"),r("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'),r.alerts.dialogClass&&r("#popup_container").addClass(r.alerts.dialogClass);var s=r.browser.msie&&parseInt(r.browser.version)<=6?"absolute":"fixed";switch(r("#popup_container").css({position:s,zIndex:99999,padding:0,margin:0}),r("#popup_title").text(e),r("#popup_content").addClass(i),r("#popup_message").text(t),r("#popup_message").html(r("#popup_message").text().replace(/\n/g,"<br />")),r("#popup_container").css({minWidth:r("#popup_container").outerWidth(),maxWidth:r("#popup_container").outerWidth()}),r.alerts._reposition(),r.alerts._maintainPosition(!0),i){case"alert":r("#popup_message").after('<div id="popup_panel"><input type="button" value="'+r.alerts.okButton+'" id="popup_ok" /></div>'),r("#popup_ok").click(function(){r.alerts._hide(),n(!0)}),r("#popup_ok").focus().keypress(function(e){13!=e.keyCode&&27!=e.keyCode||r("#popup_ok").trigger("click")});break;case"confirm":r("#popup_message").after('<div id="popup_panel"><input type="button" value="'+r.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+r.alerts.cancelButton+'" id="popup_cancel" /></div>'),r("#popup_ok").click(function(){r.alerts._hide(),n&&n(!0)}),r("#popup_cancel").click(function(){r.alerts._hide(),n&&n(!1)}),r("#popup_ok").focus(),r("#popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&r("#popup_ok").trigger("click"),27==e.keyCode&&r("#popup_cancel").trigger("click")});break;case"prompt":r("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+r.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+r.alerts.cancelButton+'" id="popup_cancel" /></div>'),r("#popup_prompt").width(r("#popup_message").width()),r("#popup_ok").click(function(){var e=r("#popup_prompt").val();r.alerts._hide(),n&&n(e)}),r("#popup_cancel").click(function(){r.alerts._hide(),n&&n(null)}),r("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&r("#popup_ok").trigger("click"),27==e.keyCode&&r("#popup_cancel").trigger("click")}),o&&r("#popup_prompt").val(o),r("#popup_prompt").focus().select()}if(r.alerts.draggable)try{r("#popup_container").draggable({handle:r("#popup_title")}),r("#popup_title").css({cursor:"move"})}catch(e){}},_hide:function(){r("#popup_container").remove(),r.alerts._overlay("hide"),r.alerts._maintainPosition(!1)},_overlay:function(e){switch(e){case"show":r.alerts._overlay("hide"),r("BODY").append('<div id="popup_overlay"></div>'),r("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:r(document).height(),background:r.alerts.overlayColor,opacity:r.alerts.overlayOpacity});break;case"hide":r("#popup_overlay").remove()}},_reposition:function(){var e=r(window).height()/2-r("#popup_container").outerHeight()/2+r.alerts.verticalOffset,t=r(window).width()/2-r("#popup_container").outerWidth()/2+r.alerts.horizontalOffset;e<0&&(e=0),t<0&&(t=0),r.browser.msie&&parseInt(r.browser.version)<=6&&(e+=r(window).scrollTop()),r("#popup_container").css({top:e+"px",left:t+"px"}),r("#popup_overlay").height(r(document).height())},_maintainPosition:function(e){if(r.alerts.repositionOnResize)switch(e){case!0:r(window).bind("resize",r.alerts._reposition);break;case!1:r(window).unbind("resize",r.alerts._reposition)}}},jAlert=function(e,t,o){r.alerts.alert(e,t,o)},jConfirm=function(e,t,o){r.alerts.confirm(e,t,o)},jPrompt=function(e,t,o,i){r.alerts.prompt(e,t,o,i)}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(g){"use strict";var u={data:{index:0,name:"scrollbar"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};u.scrolls.add=function(e){this.remove(e).push(e)};var o={autoScrollSize:!0,autoUpdate:!0,debug:!(u.scrolls.remove=function(e){for(;0<=g.inArray(e,this);)this.splice(g.inArray(e,this),1);return this}),disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},e=function(e){var t;u.scroll||(u.overlay=!((t=s(!0)).height||t.width),u.scroll=s(),c(),g(window).resize(function(){var e=!1;if(u.scroll&&(u.scroll.height||u.scroll.width)){var t=s();t.height===u.scroll.height&&t.width===u.scroll.width||(u.scroll=t,e=!0)}c(e)})),this.container=e,this.namespace=".scrollbar_"+u.data.index++,this.options=g.extend({},o,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},e.data(u.data.name,this),u.scrolls.add(this)};e.prototype={destroy:function(){if(this.wrapper){this.container.removeData(u.data.name),u.scrolls.remove(this);var e=this.container.scrollLeft(),t=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(e).scrollTop(t),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace),this.wrapper.remove(),g(document).add("body").off(this.namespace),g.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(e){var d=this,f=this.container,n=this.containerWrapper||f,h=this.namespace,m=g.extend(this.options,e||{}),v={x:this.scrollx,y:this.scrolly},o=this.wrapper,t={scrollLeft:f.scrollLeft(),scrollTop:f.scrollTop()};if(u.mobile&&m.ignoreMobile||u.overlay&&m.ignoreOverlay||u.macosx&&u.webkit,o)n.css({height:"auto","margin-bottom":-1*u.scroll.height+"px","margin-right":-1*u.scroll.width+"px","max-height":""});else{if(this.wrapper=o=g("<div>").addClass("scroll-wrapper").addClass(f.attr("class")).css("position","absolute"==f.css("position")?"absolute":"relative").insertBefore(f).append(f),f.is("textarea")&&(this.containerWrapper=n=g("<div>").insertBefore(f).append(f),o.addClass("scroll-textarea")),n.addClass("scroll-content").css({height:"auto","margin-bottom":-1*u.scroll.height+"px","margin-right":-1*u.scroll.width+"px","max-height":""}),f.on("scroll"+h,function(e){g.isFunction(m.onScroll)&&m.onScroll.call(d,{maxScroll:v.y.maxScrollOffset,scroll:f.scrollTop(),size:v.y.size,visible:v.y.visible},{maxScroll:v.x.maxScrollOffset,scroll:f.scrollLeft(),size:v.x.size,visible:v.x.visible}),v.x.isVisible&&v.x.scroll.bar.css("left",f.scrollLeft()*v.x.kx+"px"),v.y.isVisible&&v.y.scroll.bar.css("top",f.scrollTop()*v.y.kx+"px")}),o.on("scroll"+h,function(){o.scrollTop(0).scrollLeft(0)}),m.disableBodyScroll){var i=function(e){b(e)?v.y.isVisible&&v.y.mousewheel(e):v.x.isVisible&&v.x.mousewheel(e)};o.on("MozMousePixelScroll"+h,i),o.on("mousewheel"+h,i),u.mobile&&o.on("touchstart"+h,function(e){var t=e.originalEvent.touches&&e.originalEvent.touches[0]||e,o=t.pageX,i=t.pageY,n=f.scrollLeft(),s=f.scrollTop();g(document).on("touchmove"+h,function(e){var t=e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]||e;f.scrollLeft(n+o-t.pageX),f.scrollTop(s+i-t.pageY),e.preventDefault()}),g(document).on("touchend"+h,function(){g(document).off(h)})})}g.isFunction(m.onInit)&&m.onInit.apply(this,[f])}g.each(v,function(n,s){var r=null,l=1,a="x"===n?"scrollLeft":"scrollTop",c=m.scrollStep,u=function(){var e=f[a]();f[a](e+c),1==l&&p<=e+c&&(e=f[a]()),-1==l&&e+c<=p&&(e=f[a]()),f[a]()==e&&r&&r()},p=0;s.scroll||(s.scroll=d._getScroll(m["scroll"+n]).addClass("scroll-"+n),m.showArrows&&s.scroll.addClass("scroll-element_arrows_visible"),s.mousewheel=function(e){if(!s.isVisible||"x"===n&&b(e))return!0;if("y"===n&&!b(e))return v.x.mousewheel(e),!0;var t=-1*e.originalEvent.wheelDelta||e.originalEvent.detail,o=s.size-s.visible-s.offset;return(0<t&&p<o||t<0&&0<p)&&((p+=t)<0&&(p=0),o<p&&(p=o),d.scrollTo=d.scrollTo||{},d.scrollTo[a]=p,setTimeout(function(){d.scrollTo&&(f.stop().animate(d.scrollTo,240,"linear",function(){p=f[a]()}),d.scrollTo=null)},1)),e.preventDefault(),!1},s.scroll.on("MozMousePixelScroll"+h,s.mousewheel).on("mousewheel"+h,s.mousewheel).on("mouseenter"+h,function(){p=f[a]()}),s.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+h,function(e){if(1!=e.which)return!0;l=1;var t={eventOffset:e["x"===n?"pageX":"pageY"],maxScrollValue:s.size-s.visible-s.offset,scrollbarOffset:s.scroll.bar.offset()["x"===n?"left":"top"],scrollbarSize:s.scroll.bar["x"===n?"outerWidth":"outerHeight"]()},o=0,i=0;return g(this).hasClass("scroll-arrow")?(l=g(this).hasClass("scroll-arrow_more")?1:-1,c=m.scrollStep*l,p=0<l?t.maxScrollValue:0):(l=t.scrollbarOffset+t.scrollbarSize<t.eventOffset?1:t.eventOffset<t.scrollbarOffset?-1:0,c=Math.round(.75*s.visible)*l,p=t.eventOffset-t.scrollbarOffset-(m.stepScrolling?1==l?t.scrollbarSize:0:Math.round(t.scrollbarSize/2)),p=f[a]()+p/s.kx),d.scrollTo=d.scrollTo||{},d.scrollTo[a]=m.stepScrolling?f[a]()+c:p,m.stepScrolling&&(r=function(){p=f[a](),clearInterval(i),clearTimeout(o),i=o=0},o=setTimeout(function(){i=setInterval(u,40)},m.duration+100)),setTimeout(function(){d.scrollTo&&(f.animate(d.scrollTo,m.duration),d.scrollTo=null)},1),d._handleMouseDown(r,e)}),s.scroll.bar.on("mousedown"+h,function(e){if(1!=e.which)return!0;var o=e["x"===n?"pageX":"pageY"],i=f[a]();return s.scroll.addClass("scroll-draggable"),g(document).on("mousemove"+h,function(e){var t=parseInt((e["x"===n?"pageX":"pageY"]-o)/s.kx,10);f[a](i+t)}),d._handleMouseDown(function(){s.scroll.removeClass("scroll-draggable"),p=f[a]()},e)}))}),g.each(v,function(e,t){var o="scroll-scroll"+e+"_visible",i="x"==e?v.y:v.x;t.scroll.removeClass(o),i.scroll.removeClass(o),n.removeClass(o)}),g.each(v,function(e,t){g.extend(t,"x"==e?{offset:parseInt(f.css("left"),10)||0,size:f.prop("scrollWidth"),visible:o.width()}:{offset:parseInt(f.css("top"),10)||0,size:f.prop("scrollHeight"),visible:o.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),g.isFunction(m.onUpdate)&&m.onUpdate.apply(this,[f]),g.each(v,function(e,t){var o="x"===e?"left":"top",i="x"===e?"outerWidth":"outerHeight",n="x"===e?"width":"height",s=parseInt(f.css(o),10)||0,r=t.size,l=t.visible+s,a=t.scroll.size[i]()+(parseInt(t.scroll.size.css(o),10)||0);m.autoScrollSize&&(t.scrollbarSize=parseInt(a*l/r,10),t.scroll.bar.css(n,t.scrollbarSize+"px")),t.scrollbarSize=t.scroll.bar[i](),t.kx=(a-t.scrollbarSize)/(r-l)||1,t.maxScrollOffset=r-l}),f.scrollLeft(t.scrollLeft).scrollTop(t.scrollTop).trigger("scroll")},_getScroll:function(e){var t={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return t[e]&&(e=t[e]),e||(e=t.simple),e="string"==typeof e?g(e).appendTo(this.wrapper):g(e),g.extend(e,{bar:e.find(".scroll-bar"),size:e.find(".scroll-element_size"),track:e.find(".scroll-element_track")}),e},_handleMouseDown:function(e,t){var o=this.namespace;return g(document).on("blur"+o,function(){g(document).add("body").off(o),e&&e()}),g(document).on("dragstart"+o,function(e){return e.preventDefault(),!1}),g(document).on("mouseup"+o,function(){g(document).add("body").off(o),e&&e()}),g("body").on("selectstart"+o,function(e){return e.preventDefault(),!1}),t&&t.preventDefault(),!1},_updateScroll:function(e,t){var o=this.container,i=this.containerWrapper||o,n="scroll-scroll"+e+"_visible",s="x"===e?this.scrolly:this.scrollx,r=parseInt(this.container.css("x"===e?"left":"top"),10)||0,l=this.wrapper,a=t.size,c=t.visible+r;t.isVisible=1<a-c,t.isVisible?(t.scroll.addClass(n),s.scroll.addClass(n),i.addClass(n)):(t.scroll.removeClass(n),s.scroll.removeClass(n),i.removeClass(n)),"y"===e&&(o.is("textarea")||a<c?i.css({height:c+u.scroll.height+"px","max-height":"none"}):i.css({"max-height":c+u.scroll.height+"px"})),t.size==o.prop("scrollWidth")&&s.size==o.prop("scrollHeight")&&t.visible==l.width()&&s.visible==l.height()&&t.offset==(parseInt(o.css("left"),10)||0)&&s.offset==(parseInt(o.css("top"),10)||0)||(g.extend(this.scrollx,{offset:parseInt(o.css("left"),10)||0,size:o.prop("scrollWidth"),visible:l.width()}),g.extend(this.scrolly,{offset:parseInt(o.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:l.height()}),this._updateScroll("x"===e?"y":"x",s))}};var n=e;g.fn.scrollbar=function(o,i){return"string"!=typeof o&&(i=o,o="init"),void 0===i&&(i=[]),g.isArray(i)||(i=[i]),this.not("body, .scroll-wrapper").each(function(){var e=g(this),t=e.data(u.data.name);(t||"init"===o)&&(t||(t=new n(e)),t[o]&&t[o].apply(t,i))}),this},g.fn.scrollbar.options=o;var a,i,c=(a=0,function(e){var t,o,i,n,s,r,l;for(t=0;t<u.scrolls.length;t++)o=(n=u.scrolls[t]).container,i=n.options,s=n.wrapper,r=n.scrollx,l=n.scrolly,(e||i.autoUpdate&&s&&s.is(":visible")&&(o.prop("scrollWidth")!=r.size||o.prop("scrollHeight")!=l.size||s.width()!=r.visible||s.height()!=l.visible))&&(n.init(),i.debug&&window.console&&console.log({scrollHeight:o.prop("scrollHeight")+":"+n.scrolly.size,scrollWidth:o.prop("scrollWidth")+":"+n.scrollx.size,visibleHeight:s.height()+":"+n.scrolly.visible,visibleWidth:s.width()+":"+n.scrollx.visible},!0));clearTimeout(a),a=setTimeout(c,300)});function s(e){if(u.webkit&&!e)return{height:0,width:0};if(!u.data.outer){var t={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};u.data.inner=g("<div>").css(g.extend({},t)),u.data.outer=g("<div>").css(g.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},t)).append(u.data.inner).appendTo("body")}return u.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(u.data.outer.offset().top-u.data.inner.offset().top||0),width:Math.ceil(u.data.outer.offset().left-u.data.inner.offset().left||0)}}function b(e){var t=e.originalEvent;return(!t.axis||t.axis!==t.HORIZONTAL_AXIS)&&!t.wheelDeltaX}window.angular&&(i=window.angular).module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var t=o;return{setOptions:function(e){i.extend(t,e)},$get:function(){return{options:i.copy(t)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(n,s){return{restrict:"AC",link:function(e,t,o){var i=s(o.jqueryScrollbar)(e);t.scrollbar(i||n.options).on("$destroy",function(){t.scrollbar("destroy")})}}}])}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(b){"use strict";var w=b.scrollTo=function(e,t,o){return b(window).scrollTo(e,t,o)};function y(e){return!e.nodeName||-1!==b.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return b.isFunction(e)||b.isPlainObject(e)?e:{top:e,left:e}}return w.defaults={axis:"xy",duration:0,limit:!0},b.fn.scrollTo=function(e,o,v){"object"==typeof o&&(v=o,o=0),"function"==typeof v&&(v={onAfter:v}),"max"===e&&(e=9e9),v=b.extend({},w.defaults,v),o=o||v.duration;var g=v.queue&&1<v.axis.length;return g&&(o/=2),v.offset=t(v.offset),v.over=t(v.over),this.each(function(){if(null!==e){var a,c=y(this),u=c?this.contentWindow||window:this,p=b(u),d=e,f={};switch(typeof d){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(d)){d=t(d);break}d=c?b(d):b(d,u);case"object":if(0===d.length)return;(d.is||d.style)&&(a=(d=b(d)).offset())}var h=b.isFunction(v.offset)&&v.offset(u,d)||v.offset;b.each(v.axis.split(""),function(e,t){var o="x"===t?"Left":"Top",i=o.toLowerCase(),n="scroll"+o,s=p[n](),r=w.max(u,t);if(a)f[n]=a[i]+(c?0:s-p.offset()[i]),v.margin&&(f[n]-=parseInt(d.css("margin"+o),10)||0,f[n]-=parseInt(d.css("border"+o+"Width"),10)||0),f[n]+=h[i]||0,v.over[i]&&(f[n]+=d["x"===t?"width":"height"]()*v.over[i]);else{var l=d[i];f[n]=l.slice&&"%"===l.slice(-1)?parseFloat(l)/100*r:l}v.limit&&/^\d+$/.test(f[n])&&(f[n]=f[n]<=0?0:Math.min(f[n],r)),!e&&1<v.axis.length&&(s===f[n]?f={}:g&&(m(v.onAfterFirst),f={}))}),m(v.onAfter)}function m(e){var t=b.extend({},v,{queue:!0,duration:o,complete:e&&function(){e.call(u,d,v)}});p.animate(f,t)}})},w.max=function(e,t){var o="x"===t?"Width":"Height",i="scroll"+o;if(!y(e))return e[i]-b(e)[o.toLowerCase()]();var n="client"+o,s=e.ownerDocument||e.document,r=s.documentElement,l=s.body;return Math.max(r[i],l[i])-Math.min(r[n],l[n])},b.Tween.propHooks.scrollLeft=b.Tween.propHooks.scrollTop={get:function(e){return b(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return b(e.elem).stop();var o=Math.round(e.now);t!==o&&(b(e.elem)[e.prop](o),e._last=this.get(e))}},w}),function(j,I){"use strict";function L(e){var i=window.localStorage;this.key=e,this.get=function(e){var t=(i.getItem(this.key)||"").split(",");if(e){e+="";var o=t.indexOf(e);if(0<=o)return t[o]}return t},this.set=function(e){return"string"!=typeof e&&(e=e.join(",")),i.setItem(this.key,e),e.split(",")},this.hasSection=function(e){e+="";var t=this.get().indexOf(e);return 0<=t&&t},this.add=function(e){e+="";var t=this.get();if(!this.hasSection(e))return t.push(e),this.set(t),t},this.remove=function(e){e+="";var t=this.hasSection(e);if(!1!==t){var o=this.get();return o.splice(t,1),this.set(o),o}return!1}}function e(e){var n,t,s=new L("sections"),o=j("body"),i=j(".content-item-scrollable"),r=j("#learn-press-course-curriculum"),l=j("#learn-press-content-item"),a=r.find(".curriculum-scrollable"),c=j("#course-item-content-header"),u=j("#course-item-content-footer"),p=r.find(".course-item"),d=!0,f=!1,h=o.hasClass("rtl");function m(e){var t,o=j(e.target);o.is("input.option-check")||(t=o.closest(".answer-option").find("input.option-check")).length&&(t.is(":disabled")||(t.is(":checkbox")?t[0].checked=!t[0].checked:t[0].checked=!0))}function v(){var e=j(this).closest(".section").data("section-id");j(this).siblings(".section-content").slideToggle(function(){j(this).is(":visible")?s.remove(e):s.add(e)})}function g(e,t){if(!j(document.body).hasClass("course-item-popup")){var o=j(t);0!==o.closest(".course-nav").siblings().length&&I.setUrl(o.attr("href"))}}function b(e){if("keypress"===e.type&&13===e.keyCode)return!1;var t=this.value,o=new RegExp(t,"ig");p.map(function(){var e=j(this);e.find(".item-name").text().match(o)||!t.length?e.show():e.hide()}),j(".section").show().each(function(){t.length?j(this).find(".section-content").children(":visible").length?j(this).show():j(this).hide():j(this).show()}),j(this).closest(".course-item-search").toggleClass("has-keyword",!!this.value.length)}function w(e){j(this).closest(".course-item-search").find("input").val("").trigger("keyup")}function y(){j("#qm").css({"z-index":999999999,position:"relative"}),j("html, body").css("overflow","auto")}function x(){return r.outerWidth()}function _(e){var t=j(this).offset(),o=e.pageX-t.left,i=x();!n||50<o||(T(),d||(r.stop().animate({left:0},function(){O()}),l.stop().animate({left:i}),u.stop().animate({left:i},function(){j(document,window).trigger("learn-press/toggle-content-item")}),c.find(".course-item-search").show(),k(!0),d=!0))}function k(e){j(document)[e?"off":"on"]("mousemove.maybe-show-curriculum","body",_)}function T(){t&&clearTimeout(t),t=setTimeout(function(){var e=x();n&&(r.stop().animate({left:-e}),l.stop().animate({left:0}),u.stop().animate({left:0},function(){j(document,window).trigger("learn-press/toggle-content-item")}),c.find(".course-item-search").hide(),d=!1,k())},3e3)}function S(e){e.preventDefault();var t=x();n=o.toggleClass("full-screen-content-item").hasClass("full-screen-content-item"),r.stop().animate({left:n?-t:0},function(){O()}),l.stop().animate({left:n?0:t}),u.stop().animate({left:n?0:t},function(){j(document,window).trigger("learn-press/toggle-content-item")}),d=!n,window.localStorage&&window.localStorage.setItem("lp-full-screen",n?"yes":"no"),n&&k(),c.find(".course-title").stop().animate({marginLeft:n?-t:0}),c.find(".course-item-search").stop().animate({opacity:n?0:1})}function C(){j(document).on("learn-press/nav-tabs/clicked",g).on("keyup keypress",".course-item-search input",b).on("click",".course-item-search button",w).on("click","#wp-admin-bar-query-monitor",y).on("click",".answer-options .answer-option",m).on("click",".section-header",v).on("submit","form.lp-form",function(){!function(e){var t=j(".answer-options"),o=j(e),i=t.serializeJSON(),n=j('<input type="hidden" name="question-data" />').val(JSON.stringify(i));if("post"===(o.attr("method")+"").toLowerCase())o.find('input[name="question-data"]').remove(),o.append(n).append(j("<div />").append(t.clone()).hide())}(this)}).on("click",".toggle-content-item",S),r.hover(function(){t&&clearTimeout(t)},function(){n&&T()})}function z(){i.addClass("scrollbar-light").scrollbar({scrollx:!1}),i.parent().css({position:"absolute",top:0,bottom:j("#course-item-content-footer:visible").outerHeight()||0,width:"100%"}).css("opacity",1).end().css("opacity",1),(a=r.find(".curriculum-scrollable")).addClass("scrollbar-light").scrollbar({scrollx:!1}),a.parent().css({position:"absolute",top:0,bottom:0,width:"100%"}).css("opacity",1).end().css("opacity",1)}function O(){(h?0<=parseInt(r.css("right")):0<=parseInt(r.css("left")))&&"true"!==r.attr("data-loaded")&&"yes"===r.data("use_ajax")&&j.ajax({url:window.location.href.addQueryVar("get-raw-content","curriculum"),success:function(e){var t=j(e);t.is(".course-curriculum")||(t=t.find(".course-curriculum")),r.html(t.html()).attr("data-loaded","true"),f&&z()}})}j(".lp-form").submit(function(){o.addClass("lp-loading");var e=j.extend({},j(".answer-options").serializeJSON(),j(this).serializeJSON());return j.ajax({url:"http://localhost/eduma/",data:e,type:"post",success:function(e){e=I.parseJSON(e),window.location.href=e.redirect}}),!1}),new I.Alerts,function(){if(f=o.hasClass("course-item-popup"),function(){var e=j(".course-item.current").closest(".section"),t=j(".curriculum-sections").find(".section"),o=e.data("section-id"),i=[];i=e?s.remove(o):s.get();for(var n=0;n<i.length;n++)t.filter('[data-section-id="'+i[n]+'"]').find(".section-content").hide()}(),C(),f){if(l.appendTo(o),r.appendTo(o),j("#wpadminbar").length&&(o.addClass("wpadminbar"),32),z(),function(){var t=j(".content-item-summary.content-item-video");if(t.length){var o,e,i=t.find(".entry-video"),n=i.find("iframe"),s=n.attr("width"),r=n.attr("height"),l=1;if(!i.length)return;s&&r&&-1===s.indexOf("%")&&-1===r.indexOf("%")&&(l=r/s),j(window).on("resize.fit-content-video learn-press/toggle-content-item",function(){e&&clearTimeout(e),e=setTimeout(a,250)}).trigger("resize.fit-content-video"),j(".content-item-scrollable").scroll(function(){j(this).find(".entry-video").css("padding-top",this.scrollTop)})}function a(){var e=n.width();o=e*l,n.css({height:o,marginLeft:(i.width()-e)/2}),t.css({paddingTop:o})}}(),n=window.localStorage&&"yes"===window.localStorage.getItem("lp-full-screen")){var e=x();o.addClass("full-screen-content-item"),l.css("left",0),r.css("left",-e),u.css("left",0),d=!n,c.find(".course-title").css({marginLeft:n?-e:0}),c.find(".course-item-search").css({opacity:n?0:1}),k()}O(),setTimeout(function(){var e=o.find(".curriculum-sections").parent();e.scrollTo(e.find(".course-item.current"),100),window.location.hash&&j(".content-item-scrollable:last").scrollTo(j(window.location.hash))},300),o.css("opacity",1)}else O()}()}I.Alerts=function(){this.isShowing=!1;var l=j(document),a=this,c=function(e){try{var t=j(this),o=t.data("confirm"),i=t.data("action");return n="learn-press/confirm-message",s=[o,i],(o=void 0!==(r=l.triggerHandler(n,s))?r:j.isArray(s)?s[0]:void 0)?(jConfirm(o,"",function(e){e&&t.off("submit.learn-press-confirm",c).submit(),a.isShowing=!1}),!(a.isShowing=!0)):!0}catch(e){console.log(e)}var n,s,r;return!0};this.watchChange("isShowing",function(e,t,o){if(o){setTimeout(function(){j.alerts._reposition(),j("#popup_container").addClass("ready")},30);var i=j('<a href="" class="close"><i class="fa fa-times"></i></a>');j("#popup_container").append(i),i.on("click",function(){return j.alerts._hide(),!1})}return j(document.body).toggleClass("confirm",o),o});j("form[data-confirm]").on("submit.learn-press-confirm",c)},j(document).ready(function(){j(document).ready(function(){new e({}),j(this).on("submit",'form[name="course-external-link"]',function(){var e=j(this).attr("action");if(e)return window.location.href=e,!1})})})}(jQuery,LP),function(p){function e(t){var i=this,o=p.extend({},t),n=o.remainingTime,s=null,e=p(".quiz-countdown .progress-number"),r=new LP.Event_Callback(this);function l(){a();var e=o.remainingTime<=0;-1!==p.inArray(t.status,["completed","finished"])||e||(o.remainingTime--,s=setTimeout(l,1e3))}function a(){s&&clearTimeout(s)}function c(){o.watchChange("remainingTime",function(e,t,o){return function(e,t){r.callEvent("tick",[t]),t<=0&&(a(),p("form.complete-quiz").off("submit.learn-press-confirm"),r.callEvent("finish"))}.apply(i,[t,n=o]),o})}function u(){var e=p(this),t=e.find('input[name="nav-type"]'),o=e[0].className.match(/(prev|next|skip)-question/);t.length||(t=p('<input type="hidden" name="nav-type" />').val(o[0]).appendTo(e))}this.on=r.on,this.off=r.off,0<o.totalTime&&(this.on("tick.showTime",function(){n<0&&(n=0),e.html(n.toTime())}),this.on("finish.submit",function(){p("form.complete-quiz").submit()})),this.getRemainingTime=function(){return n},o.onTick&&i.on("tick",o.onTick),o.onFinish&&i.on("finish",o.onFinish),p(document).on("submit",".next-question, .prev-question, .skip-question",u),c(),l()}!Number.prototype.toTime&&(Number.prototype.toTime=function(){var e=this+0,t="";if(86400<e){var o=Math.ceil(e/86400);t=o+(1<o?" days left":" day left")}else{var i=Math.floor(e/3600),n=0;e=i?e%(3600*i):e,e=(n=Math.floor(e/60))?e%(60*n):e,i&&i<10&&(i="0"+i),n<10&&(n="0"+n),e<10&&(e="0"+e),t=i+":"+n+":"+e}return t}),p(document).ready(function(){"undefined"!=typeof lpQuizSettings&&(window.lpQuiz=new e(lpQuizSettings))})}(jQuery);